<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content="HTML Tidy for Mac OS X (vers 1 September 2005), see www.w3.org" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Installation</title>
<link rel="stylesheet" href="defguide.css" type="text/css" />
<meta name="generator" content="DocBook XSL Stylesheets V1.74.0-pre" />
<link rel="icon" href="http://docbook.org/graphics/defguide-icon16.png" type="image/png" />
<script type="text/javascript" src="script/refentry.js">
</script>
<link rel="home" href="docbook.html" title="DocBook 5.0" />
<link rel="up" href="part3.html" title="Part&#160;III.&#160;Appendixes" />
<link rel="previous" href="part3.html" title="Part&#160;III.&#160;Appendixes" />
<link rel="next" href="appc.html" title="DocBook Versions" />
</head>
<body>
<div class="navheader">
<table border="0" cellpadding="0" cellspacing="0" width="100%" summary="Navigation table">
<tr>
<td align="left">&#160;<a title="DocBook 5.0" href="docbook.html"><img src="figures/nav-home.png" alt="Home" border="0" /></a>&#160;<a title="Part&#160;III.&#160;Appendixes" href="part3.html"><img src="figures/nav-prev.png" alt="Prev" border="0" /></a>&#160;<a title="Part&#160;III.&#160;Appendixes" href="part3.html"><img src="figures/nav-up.png" alt="Up" border="0" /></a>&#160;<a title="DocBook Versions" href="appc.html"><img src="figures/nav-next.png" alt="Next" border="0" /></a></td>
<td align="right"><i>DocBook: The Definitive Guide</i> 0.0.25 for DocBook V5.0 <span class="alpha-version">(<a href="co01.html"><em>Alpha</em></a>)</span></td>
</tr>
</table>
</div>
<div class="appendix" lang="en" xml:lang="en">
<div class="titlepage">
<div>
<div><a name="app-install" id="app-install"></a>
<div class="component-title">
<h1 class="label">A</h1>
<h1 class="title">Installation</h1>
</div>
</div>
<div>
<p class="releaseinfo">$Revision: 1.1 $</p>
</div>
<div>
<p class="pubdate">$Date: 2008/11/05 15:41:09 $</p>
</div>
</div>
</div>
<div class="section" lang="en" xml:lang="en">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="s-install" id="s-install"></a>Installing DocBook</h2>
</div>
</div>
</div>
<div class="section" lang="en" xml:lang="en">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="s-installrng" id="s-installrng"></a>Installing the DocBook RELAX NG Grammar</h3>
</div>
</div>
</div>
<p>FIXME: tbd.</p>
</div>
<div class="section" lang="en" xml:lang="en">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="s-installdtd" id="s-installdtd"></a>Installing the DocBook DTD</h3>
</div>
</div>
</div>
<p>FIXME: tbd.</p>
</div>
<div class="section" lang="en" xml:lang="en">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="s-installxsd" id="s-installxsd"></a>Installing the DocBook W3C XML Schema</h3>
</div>
</div>
</div>
<p>FIXME: tbd.</p>
</div>
<div class="section" lang="en" xml:lang="en">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="s-installsch" id="s-installsch"></a>Installing the DocBook Schematron Schema</h3>
</div>
</div>
</div>
<p>FIXME: tbd.</p>
</div>
<div class="section" lang="en" xml:lang="en">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="s.getting-iso-entities" id="s.getting-iso-entities"></a>Getting the ISO Entity Sets</h3>
</div>
</div>
</div>
<p><a class="indexterm" name="d0e249081" id="d0e249081"></a> <a class="indexterm" name="d0e249087" id="d0e249087"></a> <a class="indexterm" name="d0e249095" id="d0e249095"></a> <a class="indexterm" name="d0e249103" id="d0e249103"></a> DocBook refers to a number of standard entity sets that are not distributed with DocBook. (They aren't distributed with DocBook because they aren't maintained by the DocBook TC. They're maintained by ISO.) If you've installed other SGML DTDs or tools, they may already be on
your system.</p>
<p>If you are missing some of them, they are available from Robin Cover's pages at OASIS: <a class="link" href="http://www.oasis-open.org/cover/ISOEnts.zip" target="_top">http://www.oasis-open.org/cover/ISOEnts.zip</a>.<sup>[<a name="d0e249114" href="#ftn.d0e249114" class="footnote" id="d0e249114">8</a>]</sup> See <a class="link" href="http://www.oasis-open.org/cover/topics.html#entities" target="_top">http://www.oasis-open.org/cover/topics.html#entities</a> for more information.</p>
</div>
<div class="section" lang="en" xml:lang="en">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="dbcatalog" id="dbcatalog"></a>The DocBook Catalog</h3>
</div>
</div>
</div>
<p><a class="indexterm" name="d0e249132" id="d0e249132"></a> <a class="indexterm" name="d0e249140" id="d0e249140"></a> DocBook uses public identifiers to refer to its constituent parts. In some sense, DocBook <span class="emphasis"><em>is</em></span> DocBook because it has the formal public identifier “<span class="quote"><code class="literal">-//OASIS//DTD DocBook V3.1//EN</code></span>”. In order for tools on your system to find your locally installed copy of DocBook, you must map these public
identifiers into system identifiers, i.e., filenames, on your system. For a complete discussion of catalog files, see <a class="xref" href="ch02.html#s-pid-sid-catalogs" title="Public Identifiers, System Identifiers, and Catalog Files">the section called “Public Identifiers, System Identifiers, and Catalog Files”</a>.</p>
<p><a class="indexterm" name="d0e249157" id="d0e249157"></a> The DocBook distribution includes a sample catalog, <code class="filename">docbook.cat</code> , which provides a mapping for all of the public identifiers referenced by DocBook. This mapping won't work “<span class="quote">out of the box</span>” for two reasons: first, your tools won't be able to find it, and second, the mappings for the ISO entity sets probably don't point to the right place on your system.</p>
<div class="section" lang="en" xml:lang="en">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="s.findingcatalog" id="s.findingcatalog"></a>Finding the Catalog</h4>
</div>
</div>
</div>
<p>If you've already got some other SGML DTDs installed, you probably already have a catalog file. In this case, the easiest thing to do is append the DocBook catalog entries to the end of your existing catalog and then change them to point to the files on your system.</p>
<p>If DocBook is the first DTD that you're installing, make a copy of <code class="filename">docbook.cat</code> and call it <code class="filename">catalog</code>. Put this file in a higher-level directory and edit the relative pathnames that it contains to point to the actual locations of the files on your system. For example, if you installed DocBook in <code class="filename">/share/sgml/docbk30/</code>, put the <code class="filename">catalog</code> in <code class="filename">/share/sgml/</code>.</p>
<p><a class="indexterm" name="d0e249193" id="d0e249193"></a> <a class="indexterm" name="d0e249199" id="d0e249199"></a> In order for applications to find your catalog file(s), you may have to change the application preferences or set an environment variable. For <span class="application">SP</span> and <span class="application">Jade</span>, set the environment variable <code class="envar">SGML_CATALOG_FILES</code> to the delimited list of catalog filenames. On my system, this looks like:</p>
<pre class="screen">
SGML_CATALOG_FILES=./catalog;n:/share/sgml/catalog;n:/adept80/doctypes/catalog.jade;j:/jade/catalog
</pre>
<p>(On a UNIX machine, use colons instead of semicolons to delimit the filenames.)</p>
<p>If you don't wish to set the environment variable, you can explicitly pass the name of each catalog to the <span class="application">SP</span> application with the <code class="option">-c</code> option, like this:</p>
<pre class="screen">
nsgmls -c ./catalog -c n:/share/sgml/catalog <em class="replaceable"><code>-c othercatalogs
</code></em> ...
</pre></div>
<div class="section" lang="en" xml:lang="en">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="s.fixingcatalog" id="s.fixingcatalog"></a>Fixing the Catalog</h4>
</div>
</div>
</div>
<p><a class="indexterm" name="d0e249234" id="d0e249234"></a> The basic format of each entry in the DocBook catalog is:</p>
<pre class="screen">
PUBLIC "some public id" "some filename"
</pre>
<p>What you have to do is change each of the “<span class="quote">some filenames</span>” to point to the actual name of the file on your system.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Note</h3>
<p><a class="indexterm" name="d0e249251" id="d0e249251"></a> Filenames should be supplied using absolute filenames, or paths relative to the location of the <span class="emphasis"><em>catalog</em></span> file.</p>
</div>
<p>To continue with the example above, let's say that you've got:</p>
<div class="itemizedlist">
<ul type="disc">
<li>
<p>DocBook in <code class="filename">/share/sgml/docbk30/</code>,</p>
</li>
<li>
<p>The ISO entities in <code class="filename">/share/sgml/entities/8879/</code>, and</p>
</li>
<li>
<p>Your catalog in <code class="filename">/share/sgml/catalog</code></p>
</li>
</ul>
</div>
<p>Then you would change the catalog entry for the DTD to be:</p>
<pre class="screen">
PUBLIC "-//OASIS//DTD DocBook V3.1//EN" "docbk30/docbook.dtd"
</pre>
<p>You would change the catalog entry for the general technical character entities to:</p>
<pre class="screen">
PUBLIC "ISO 8879:1986//ENTITIES General Technical//EN" "entities/8879/iso-tech.gml"
</pre>
<p>And similarly for the other public identifiers used by DocBook. In each case, the filename specified for the public identifier should be the name of the file on your system, specified as an absolute filename, or relative to the location of the <code class="filename">catalog</code> in which it occurs.</p>
</div>
<div class="section" lang="en" xml:lang="en">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="s.mappingsystemids" id="s.mappingsystemids"></a>Mapping System Identifiers for XML</h4>
</div>
</div>
</div>
<p><a class="indexterm" name="d0e249298" id="d0e249298"></a> <a class="indexterm" name="d0e249306" id="d0e249306"></a> Since XML documents are required to have system identifiers, but are not required to have public identifiers, it's likely that some of the documents you want to process will only have system identifiers.</p>
<p>It turns out that you can still take advantage of the catalog in this case. The <code class="literal">SYSTEM</code> directive allows you to map the system identifier used in the document to the actual location on your system.</p>
<p>Suppose that you work with a colleague who uses the system identifier “<span class="quote">file:///c:/sgml/db3xml/db3xml.dtd</span>” to identify the XML version of DocBook on her system. On your system, you want to map that to “<span class="quote">/share/sgml/db3xml/db3xml.dtd</span>”. The following entry in your catalog will do the trick:</p>
<pre class="screen">
SYSTEM "http://docbook.org/docbook/xml/1.4/db3xml.dtd" "/share/sgml/db3xml/db3xml.dtd"
</pre>
<p>Unfortunately, this technique only works with applications that read and understand catalog files.</p>
</div>
</div>
<div class="section" lang="en" xml:lang="en">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="s.testinginstall" id="s.testinginstall"></a>Testing Your Installation</h3>
</div>
</div>
</div>
<p>FIXME: tbd.</p>
</div>
</div>
<div class="footnotes"><br />
<hr width="100" align="left" />
<div class="footnote">
<p><sup>[<a name="ftn.d0e249114" href="#d0e249114" class="para" id="ftn.d0e249114">8</a>]</sup> The names of the entity files in this distribution do not exactly match the names of the files used in the catalog file distributed with DocBook (<code class="filename">docbook.cat</code>). Make sure your catalog file points to the right files.</p>
</div>
</div>
</div>
<div class="navfooter">
<table width="100%" summary="Navigation table">
<tr>
<td width="40%" align="left"><a title="Part&#160;III.&#160;Appendixes" href="part3.html"><img src="figures/nav-prev.png" alt="Prev" border="0" /></a>&#160;</td>
<td width="20%" align="center"><a title="DocBook 5.0" href="docbook.html"><img src="figures/nav-home.png" alt="Home" border="0" /></a></td>
<td width="40%" align="right">&#160;<a title="DocBook Versions" href="appc.html"><img src="figures/nav-next.png" alt="Next" border="0" /></a></td>
</tr>
<tr>
<td width="40%" align="left">Part&#160;III.&#160;Appendixes&#160;</td>
<td width="20%" align="center"><a title="Part&#160;III.&#160;Appendixes" href="part3.html"><img src="figures/nav-up.png" alt="Up" border="0" /></a></td>
<td width="40%" align="right">&#160;DocBook Versions</td>
</tr>
</table>
</div>
<div class="copyrightfooter">
<p><a href="dbcpyright.html">Copyright</a> © 2004-2008 Norman Walsh. Portions Copright © 1999-2003 <a href="http://www.oreilly.com/">O'Reilly &amp; Associates, Inc.</a> All rights reserved.</p>
</div>
</body>
</html>
